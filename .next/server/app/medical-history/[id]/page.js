(()=>{var e={};e.id=749,e.ids=[749],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>h,tree:()=>c}),s(5300),s(2029),s(5866);var r=s(3191),a=s(8716),i=s(7922),l=s.n(i),d=s(5231),n={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>d[e]);s.d(t,n);let c=["",{children:["medical-history",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5300)),"/Users/ankushjha/Desktop/CURACADET/src/app/medical-history/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,2029)),"/Users/ankushjha/Desktop/CURACADET/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/ankushjha/Desktop/CURACADET/src/app/medical-history/[id]/page.tsx"],x="/medical-history/[id]/page",m={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/medical-history/[id]/page",pathname:"/medical-history/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},4263:(e,t,s)=>{Promise.resolve().then(s.bind(s,5073))},5073:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var r=s(326);s(5047);var a=s(80),i=s(6333),l=s(434),d=s(4825),n=s(7577);function c({params:e}){let t=parseInt(e.id),[s,c]=(0,n.useState)(null),[o,x]=(0,n.useState)([]),[m,h]=(0,n.useState)(!0),[p,u]=(0,n.useState)(null);return((0,n.useCallback)(async()=>{try{h(!0),u(null);let[e,s]=await Promise.all([fetch(`/api/cadets/${t}`,{credentials:"include"}),fetch(`/api/medical-history/${t}`,{credentials:"include"})]);if(!e.ok)throw Error("Failed to fetch cadet");let r=await e.json(),{records:a}=s.ok?await s.json():{records:[]};c(r),x(a)}catch(e){console.error("Error loading medical history:",e),u(e instanceof Error?e.message:"Failed to load medical history")}finally{h(!1)}},[t]),m)?r.jsx(a.Z,{children:r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):p||!s?r.jsx(a.Z,{children:r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:p||"Medical history not found"}),r.jsx(l.default,{href:"/medical-history",className:"text-primary hover:text-primary/80",children:"Return to Medical History"})]})})}):r.jsx(a.Z,{children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[r.jsx("div",{className:"flex items-center gap-4",children:(0,r.jsxs)(l.default,{href:"/medical-history",className:"inline-flex items-center gap-2 text-primary hover:text-primary/80 transition-colors",children:[r.jsx(i.Z,{className:"h-4 w-4"}),"Back to Medical History"]})}),r.jsx("div",{className:"card p-6",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"h-16 w-16 rounded-full bg-primary/10 dark:bg-primary/20 flex items-center justify-center",children:r.jsx("span",{className:"text-primary font-bold text-xl",children:s.name.split(" ").map(e=>e[0]).join("")})}),(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:s.name}),r.jsx("div",{className:"space-y-1 text-sm text-gray-600 dark:text-gray-400",children:r.jsx("div",{className:"flex items-center gap-2",children:(0,r.jsxs)("span",{children:[s.company," Company, ",s.battalion]})})})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Total Records"}),r.jsx("div",{className:"text-2xl font-bold text-primary",children:o.length})]})]})}),(0,r.jsxs)("div",{className:"card",children:[r.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:r.jsx("div",{className:"flex items-start justify-between",children:(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Medical History Timeline"}),(0,r.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:["Complete medical record history for ",s.name]})]})})}),r.jsx("div",{className:"p-6",children:0===o.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Medical Records"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"This cadet has no medical records yet."})]}):r.jsx(d.Z,{records:o,cadetId:t,showAll:!0})})]})]})})}},5300:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(8570).createProxy)(String.raw`/Users/ankushjha/Desktop/CURACADET/src/app/medical-history/[id]/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[276,471,244,642],()=>s(14));module.exports=r})();