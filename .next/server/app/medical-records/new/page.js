(()=>{var e={};e.id=770,e.ids=[770],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6167:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>d.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>h,tree:()=>o}),t(849),t(2029),t(5866);var r=t(3191),s=t(8716),n=t(7922),d=t.n(n),i=t(5231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);t.d(a,l);let o=["",{children:["medical-records",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,849)),"/Users/ankushjha/Desktop/CURACADET/src/app/medical-records/new/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,2029)),"/Users/ankushjha/Desktop/CURACADET/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/ankushjha/Desktop/CURACADET/src/app/medical-records/new/page.tsx"],m="/medical-records/new/page",x={require:t,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/medical-records/new/page",pathname:"/medical-records/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},8406:(e,a,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},9675:()=>{},4548:(e,a,t)=>{Promise.resolve().then(t.bind(t,5314))},4019:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});let r=(0,t(664).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5314:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>h,dynamic:()=>m});var r=t(326),s=t(7577),n=t(5047),d=t(80),i=t(434),l=t(3855),o=t(9635),c=t(4019);let m="force-dynamic";function x(){let e=(0,n.useRouter)(),a=(0,n.useSearchParams)(),[t,m]=(0,s.useState)(!1),[x,h]=(0,s.useState)([]),[g,u]=(0,s.useState)(!0),[p,b]=(0,s.useState)(!1),[y,j]=(0,s.useState)(!1),[f,v]=(0,s.useState)(""),[N,k]=(0,s.useState)(!1),[C,w]=(0,s.useState)(null),[D,P]=(0,s.useState)({cadetId:"",dateOfReporting:"",medicalProblem:"",diagnosis:"",status:"Active",trainingType:"none",trainingDays:"0",exPpg:"0",attendB:"0",physiotherapy:"0",contactNo:"",remarks:"",monitoringCase:"No",weight:""}),[A,S]=(0,s.useState)({name:"",battalion:"",company:"",joinDate:"",academyNumber:"",height:"",weight:"",age:"",course:"",sex:"",relegated:"N"}),[R,E]=(0,s.useState)(null),[T,I]=(0,s.useState)(null),[F,M]=(0,s.useState)({}),O=e=>{let{name:a,value:t}=e.target;P(e=>{let r={...e,[a]:t};return"trainingType"===a&&("none"===t?r.trainingDays="0":t!==e.trainingType&&(r.trainingDays="0")),r})},L=e=>{w(e),v(`${e.name} - ${e.company} Company, ${e.battalion}`),P(a=>({...a,cadetId:e.id.toString()})),k(!1)},Z=x.filter(e=>""!==f.trim()&&(e.name.toLowerCase().includes(f.toLowerCase())||e.company.toLowerCase().includes(f.toLowerCase())||e.battalion.toLowerCase().includes(f.toLowerCase()))),_=e=>{let{name:a,value:t}=e.target;S(e=>({...e,[a]:t}))},q=async e=>{e.preventDefault(),E(null),j(!0);try{let e=localStorage.getItem("jwt_token");if(!e){E("Authentication required");return}let a=await fetch("/api/cadets",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(A)}),t=await a.json();a.ok?(console.log("✅ CREATED CADET:",t),h(e=>[...e,t]),P(e=>({...e,cadetId:t.id.toString()})),b(!1),S({name:"",battalion:"",company:"",joinDate:"",academyNumber:"",height:"",weight:"",age:"",course:"",sex:"",relegated:"N"}),alert("Cadet added successfully!")):E(t.error||"Failed to add cadet")}catch(e){console.error("❌ Error adding cadet:",e),E(e instanceof Error?e.message:"Network error. Please try again.")}finally{j(!1)}},B=()=>{let e={};return D.cadetId&&""!==D.cadetId.trim()||(e.cadetId="Please select a cadet"),D.dateOfReporting||(e.dateOfReporting="Date of reporting is required"),D.medicalProblem.trim()||(e.medicalProblem="Medical problem description is required"),!D.cadetId||C||x.find(e=>e.id.toString()===D.cadetId)||(e.cadetId="Selected cadet is not valid"),M(e),0===Object.keys(e).length},$=async a=>{if(a.preventDefault(),B()){I(null),m(!0);try{let a=localStorage.getItem("jwt_token");if(console.log("\uD83D\uDD11 JWT TOKEN RETRIEVED:",a?"Token found":"No token found"),!a){I("Authentication required");return}let t={cadetId:D.cadetId,dateOfReporting:D.dateOfReporting,medicalProblem:D.medicalProblem,diagnosis:D.diagnosis,medicalStatus:D.status,attendC:"attendC"===D.trainingType?parseInt(D.trainingDays):0,miDetained:"miDetained"===D.trainingType?parseInt(D.trainingDays):0,exPpg:parseInt(D.exPpg),attendB:parseInt(D.attendB),physiotherapy:parseInt(D.physiotherapy),totalTrainingDaysMissed:parseInt(D.trainingDays)||0,contactNo:D.contactNo,remarks:D.remarks,monitoringCase:D.monitoringCase};console.log("\uD83D\uDCDD FRONTEND SENDING MEDICAL RECORD DATA:",t),console.log("\uD83D\uDC64 SELECTED CADET:",C);let r=await fetch("/api/medical-records",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify(t)}),s=await r.json();if(r.ok){if(console.log("✅ CREATED MEDICAL RECORD:",s),D.weight&&""!==D.weight.trim())try{(await fetch(`/api/cadets/${D.cadetId}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({weight:parseFloat(D.weight)})})).ok?console.log("✅ UPDATED CADET WEIGHT"):console.warn("⚠️ Failed to update cadet weight, but medical record was created")}catch(e){console.warn("⚠️ Error updating cadet weight:",e)}alert("Medical record added successfully!"),setTimeout(()=>{e.push(`/cadets/${D.cadetId}?refresh=true`)},500)}else I(s.error||"Failed to add medical record")}catch(e){console.error("❌ Error adding medical record:",e),I(e instanceof Error?e.message:"Network error. Please try again.")}finally{m(!1)}}};return(0,r.jsxs)(d.Z,{children:[(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Add Medical Record"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Record a new medical visit or treatment"})]}),r.jsx("div",{className:"card p-6",children:(0,r.jsxs)("form",{onSubmit:$,className:"space-y-6",children:[T&&r.jsx("div",{className:"p-3 text-sm text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:T}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Cadet Selection *"}),(0,r.jsxs)("div",{className:"flex gap-3",children:[r.jsx("div",{className:"flex-1 relative",children:g?(0,r.jsxs)("div",{className:"input-field flex items-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary mr-2"}),"Loading cadets... ",a.get("cadetId")&&"Pre-selecting from cadet details..."]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx("input",{type:"text",placeholder:"Search for existing cadet by name, company, or battalion...",value:f,onChange:e=>{let a=e.target.value;v(a),k(a.trim().length>0),a.trim()||(w(null),P(e=>({...e,cadetId:""})))},onFocus:()=>{k(f.trim().length>0)},onBlur:()=>setTimeout(()=>k(!1),200),className:`input-field ${F.cadetId?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`,required:!!D.cadetId}),N&&Z.length>0&&r.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-lg max-h-60 overflow-y-auto",children:Z.slice(0,10).map(e=>(0,r.jsxs)("div",{className:"px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer border-b border-gray-100 dark:border-gray-600 last:border-b-0",onClick:()=>L(e),children:[(0,r.jsxs)("div",{className:"font-medium text-gray-900 dark:text-white flex items-center gap-2",children:[e.name,"Y"===e.relegated&&(0,r.jsxs)(r.Fragment,{children:[r.jsx("span",{className:"text-red-600 dark:text-red-400 font-bold",children:"R"}),r.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full"})]})]}),(0,r.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[e.company," Company, ",e.battalion]})]},e.id))})]})}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx("button",{type:"button",onClick:()=>b(!0),className:"btn-secondary text-sm px-3 py-1",title:"Add new cadet",children:r.jsx(l.Z,{className:"h-4 w-4"})}),C&&r.jsx(i.default,{href:`/cadets/${C.id}/edit`,className:"btn-secondary text-sm px-3 py-1",title:"Edit selected cadet",children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),r.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})})]})]}),F.cadetId&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:F.cadetId}),C&&r.jsx("div",{className:"mt-2 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:(0,r.jsxs)("div",{className:"text-sm",children:[r.jsx("span",{className:"font-medium text-green-800 dark:text-green-400",children:"Selected:"})," ",(0,r.jsxs)("span",{className:"text-green-700 dark:text-green-300 flex items-center gap-2",children:[C.name,"Y"===C.relegated&&(0,r.jsxs)(r.Fragment,{children:[r.jsx("span",{className:"text-red-600 dark:text-red-400 font-bold",children:"R"}),r.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full"})]}),"- ",C.company," Company, ",C.battalion]}),a.get("cadetId")&&r.jsx("div",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:"✓ Pre-selected from cadet details"})]})}),0===x.length&&!g&&r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:'No cadets available. Use "Add New" to create the first cadet.'})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"dateOfReporting",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Date of reporting *"}),r.jsx("input",{type:"date",id:"dateOfReporting",name:"dateOfReporting",required:!0,value:D.dateOfReporting,onChange:O,className:`input-field ${F.dateOfReporting?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`}),F.dateOfReporting&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:F.dateOfReporting})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"medicalProblem",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Medical Problem *"}),r.jsx("input",{type:"text",id:"medicalProblem",name:"medicalProblem",required:!0,value:D.medicalProblem,onChange:O,className:`input-field ${F.medicalProblem?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`,placeholder:"e.g., Ankle Sprain, Viral Fever"}),F.medicalProblem&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:F.medicalProblem})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"weight",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Weight (kg)"}),r.jsx("input",{type:"number",id:"weight",name:"weight",min:0,step:"0.1",value:D.weight,onChange:O,className:"input-field",placeholder:"e.g., 68.5"})]}),(0,r.jsxs)("div",{className:"md:col-span-2",children:[r.jsx("label",{htmlFor:"diagnosis",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Prescription"}),r.jsx("textarea",{id:"diagnosis",name:"diagnosis",rows:3,value:D.diagnosis,onChange:O,className:"input-field",placeholder:"detailed prescription option"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Medical Status"}),(0,r.jsxs)("select",{id:"status",name:"medicalStatus",value:D.status,onChange:O,className:"input-field",children:[r.jsx("option",{value:"Active",children:"Active"}),r.jsx("option",{value:"Completed",children:"Completed"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Training Days"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("select",{name:"trainingType",value:D.trainingType,onChange:O,className:"input-field",children:[r.jsx("option",{value:"none",children:"None"}),r.jsx("option",{value:"attendC",children:"Attend C"}),r.jsx("option",{value:"miDetained",children:"MI Detained"})]}),"none"!==D.trainingType&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 min-w-0",children:"attendC"===D.trainingType?"Attend C:":"MI Detained:"}),r.jsx("input",{type:"number",name:"trainingDays",min:"0",max:"attendC"===D.trainingType?"10":"30",value:D.trainingDays,onChange:O,className:"input-field flex-1",placeholder:"0"})]})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"exPpg",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Ex-PPG"}),r.jsx("input",{type:"number",id:"exPpg",name:"exPpg",min:"0",value:D.exPpg,onChange:O,className:"input-field",placeholder:"0"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"attendB",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Attend B"}),r.jsx("input",{type:"number",id:"attendB",name:"attendB",min:"0",value:D.attendB,onChange:O,className:"input-field",placeholder:"0"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"physiotherapy",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Physiotherapy"}),r.jsx("input",{type:"number",id:"physiotherapy",name:"physiotherapy",min:"0",value:D.physiotherapy,onChange:O,className:"input-field",placeholder:"0"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"monitoringCase",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Monitoring Case"}),(0,r.jsxs)("select",{id:"monitoringCase",name:"monitoringCase",value:D.monitoringCase,onChange:O,className:"input-field",children:[r.jsx("option",{value:"No",children:"No"}),r.jsx("option",{value:"Yes",children:"Yes"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"contactNo",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Contact No."}),r.jsx("input",{type:"tel",id:"contactNo",name:"contactNo",value:D.contactNo,onChange:O,className:"input-field",placeholder:"Phone number"})]}),(0,r.jsxs)("div",{className:"md:col-span-2",children:[r.jsx("label",{htmlFor:"remarks",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Remarks"}),r.jsx("textarea",{id:"remarks",name:"remarks",rows:3,value:D.remarks,onChange:O,className:"input-field",placeholder:"Any additional remarks or observations"})]})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-3",children:[r.jsx(i.default,{href:"/dashboard",className:"btn-secondary",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:t,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Adding Record...":"Add Medical Record"})]})]})})]}),p&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[r.jsx(o.Z,{className:"h-5 w-5"}),"Add New Cadet"]}),r.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(c.Z,{className:"h-5 w-5"})})]}),(0,r.jsxs)("form",{onSubmit:q,className:"space-y-4",children:[R&&r.jsx("div",{className:"p-3 text-sm text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:R}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"cadetName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Full Name *"}),r.jsx("input",{type:"text",id:"cadetName",name:"name",required:!0,value:A.name,onChange:_,className:"input-field",placeholder:"Enter full name"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"cadetBattalion",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Battalion *"}),(0,r.jsxs)("select",{id:"cadetBattalion",name:"battalion",required:!0,value:A.battalion,onChange:_,className:"input-field",children:[r.jsx("option",{value:"",children:"Select battalion..."}),r.jsx("option",{value:"Shivaji",children:"Shivaji"}),r.jsx("option",{value:"Ranjit Singh",children:"Ranjit Singh"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"cadetCompany",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Company *"}),(0,r.jsxs)("select",{id:"cadetCompany",name:"company",required:!0,value:A.company,onChange:_,className:"input-field",children:[r.jsx("option",{value:"",children:"Select company..."}),r.jsx("option",{value:"M",children:"M"}),r.jsx("option",{value:"N",children:"N"}),r.jsx("option",{value:"Z",children:"Z"}),r.jsx("option",{value:"J",children:"J"}),r.jsx("option",{value:"K",children:"K"}),r.jsx("option",{value:"P",children:"P"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"academyNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Academy Number"}),r.jsx("input",{type:"number",id:"academyNumber",name:"academyNumber",value:A.academyNumber,onChange:_,className:"input-field",placeholder:"e.g., 12345",min:1})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"cadetJoinDate",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Join Date *"}),r.jsx("input",{type:"date",id:"cadetJoinDate",name:"joinDate",required:!0,value:A.joinDate,onChange:_,className:"input-field"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"height",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Height (cm)"}),r.jsx("input",{type:"number",id:"height",name:"height",min:0,value:A.height,onChange:_,className:"input-field",placeholder:"e.g., 175"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"weight",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Weight (kg)"}),r.jsx("input",{type:"number",id:"weight",name:"weight",min:0,value:A.weight,onChange:_,className:"input-field",placeholder:"e.g., 68"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"age",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Age"}),r.jsx("input",{type:"number",id:"age",name:"age",min:0,value:A.age,onChange:_,className:"input-field",placeholder:"e.g., 21"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"course",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Course"}),r.jsx("input",{type:"number",id:"course",name:"course",min:1,value:A.course,onChange:_,className:"input-field",placeholder:"e.g., 1, 2, 3"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"sex",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Sex"}),(0,r.jsxs)("select",{id:"sex",name:"sex",value:A.sex,onChange:_,className:"input-field",children:[r.jsx("option",{value:"",children:"Select..."}),r.jsx("option",{value:"Male",children:"Male"}),r.jsx("option",{value:"Female",children:"Female"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"relegated",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Relegated"}),(0,r.jsxs)("select",{id:"relegated",name:"relegated",value:A.relegated,onChange:_,className:"input-field",children:[r.jsx("option",{value:"N",children:"N"}),r.jsx("option",{value:"Y",children:"Y"})]})]})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("button",{type:"button",onClick:()=>b(!1),className:"btn-secondary",disabled:y,children:"Cancel"}),r.jsx("button",{type:"submit",disabled:y,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:y?(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Adding Cadet..."]}):"Add Cadet"})]})]})]})})})]})}function h(){return r.jsx(s.Suspense,{fallback:r.jsx(d.Z,{children:r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}),children:r.jsx(x,{})})}},80:(e,a,t)=>{"use strict";t.d(a,{Z:()=>k});var r=t(326),s=t(7577),n=t(5047),d=t(748),i=t(9635),l=t(850),o=t(2607);function c(){let[e,a]=(0,s.useState)("dark");return r.jsx("button",{onClick:()=>{let t="dark"===e?"light":"dark";a(t),document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(t),localStorage.setItem("theme",t)},className:"p-2 rounded-full text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",title:`Switch to ${"dark"===e?"light":"dark"} mode`,children:"dark"===e?r.jsx(l.Z,{className:"h-5 w-5"}):r.jsx(o.Z,{className:"h-5 w-5"})})}let m=({className:e=""})=>(0,r.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[r.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}),r.jsx("path",{d:"M9 9l6 6M15 9l-6 6",stroke:"currentColor",strokeWidth:"2"}),r.jsx("path",{d:"M12 7v6",stroke:"currentColor",strokeWidth:"1.5"})]});function x(){let[e,a]=(0,s.useState)("");return r.jsx("header",{className:"border-b border-gray-200 dark:border-gray-700/50 bg-white dark:bg-gray-800/50",children:r.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex h-16 items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx("button",{className:"lg:hidden p-2 rounded-md text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:r.jsx(d.Z,{className:"h-6 w-6"})}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx(m,{className:"w-8 h-8 text-primary"}),r.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Medical Record for OTA Chennai"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx(c,{}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Welcome, ",e||"User"]}),r.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center",children:r.jsx(i.Z,{className:"h-5 w-5 text-primary"})})]})]})]})})})}var h=t(434),g=t(9798),u=t(4061),p=t(6697),b=t(3855),y=t(6283),j=t(1810);let f=({className:e=""})=>(0,r.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[r.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}),r.jsx("path",{d:"M9 9l6 6M15 9l-6 6",stroke:"currentColor",strokeWidth:"2"}),r.jsx("path",{d:"M12 7v6",stroke:"currentColor",strokeWidth:"1.5"})]}),v=[{name:"Dashboard",href:"/dashboard",icon:g.Z},{name:"Cadet Records",href:"/cadets",icon:u.Z},{name:"Medical History",href:"/medical-history",icon:p.Z},{name:"Add Record",href:"/medical-records/new",icon:b.Z},{name:"Reports",href:"/reports",icon:y.Z}];function N(){let e=(0,n.usePathname)(),a=(0,n.useRouter)();return(0,r.jsxs)("aside",{className:"w-64 flex-col bg-white dark:bg-gray-800/50 border-r border-gray-200 dark:border-gray-700/50 p-4 hidden lg:flex",children:[r.jsx("div",{className:"flex flex-col gap-y-2 mb-8",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx(f,{className:"w-8 h-8 text-primary"}),r.jsx("div",{children:r.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"HEALOTAC"})})]})}),r.jsx("nav",{className:"flex-1 flex flex-col gap-2",children:v.map(a=>{let t=a.icon,s=e===a.href;return(0,r.jsxs)(h.default,{href:a.href,className:`
                flex items-center gap-3 rounded-lg px-3 py-2 font-medium
                ${s?"bg-primary/10 dark:bg-primary/20 text-primary dark:text-white":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"}
              `,children:[r.jsx(t,{className:"h-5 w-5"}),r.jsx("span",{children:a.name})]},a.name)})}),(0,r.jsxs)("button",{onClick:()=>{localStorage.removeItem("jwt_token"),localStorage.removeItem("user_info"),a.push("/")},className:"flex items-center gap-3 rounded-lg px-3 py-2 font-medium text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 mt-auto",children:[r.jsx(j.Z,{className:"h-5 w-5"}),r.jsx("span",{children:"Logout"})]})]})}function k({children:e}){return(0,n.useRouter)(),(0,r.jsxs)("div",{className:"flex min-h-screen",children:[r.jsx(N,{}),r.jsx("div",{className:"w-px bg-gray-200 dark:bg-gray-700/50"}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col",children:[r.jsx(x,{}),r.jsx("main",{className:"flex-1 p-6 lg:p-8 bg-background-light dark:bg-background-dark",children:e})]})]})}},2029:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>n,metadata:()=>s});var r=t(9510);t(5023);let s={title:"HEALOTAC",description:"Medical Records Management System for Indian Army Cadets",keywords:"healotac, medical records, indian army, cadet health, military healthcare",icons:{icon:[{url:"/favicon.png",sizes:"any"},{url:"/favicon.png",sizes:"16x16",type:"image/png"},{url:"/favicon.png",sizes:"32x32",type:"image/png"}],shortcut:"/favicon.png"}};function n({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:"min-h-screen antialiased",children:e})})}},849:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>n,dynamic:()=>s});var r=t(8570);let s=(0,r.createProxy)(String.raw`/Users/ankushjha/Desktop/CURACADET/src/app/medical-records/new/page.tsx#dynamic`),n=(0,r.createProxy)(String.raw`/Users/ankushjha/Desktop/CURACADET/src/app/medical-records/new/page.tsx#default`)},5023:()=>{}};var a=require("../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),r=a.X(0,[276,471,244],()=>t(6167));module.exports=r})();