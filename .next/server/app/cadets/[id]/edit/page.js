(()=>{var e={};e.id=864,e.ids=[864],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8684:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>l.a,__next_app__:()=>h,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>o}),t(9761),t(2029),t(5866);var r=t(3191),s=t(8716),i=t(7922),l=t.n(i),n=t(5231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(a,d);let o=["",{children:["cadets",{children:["[id]",{children:["edit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,9761)),"/Users/ankushjha/Desktop/CURACADET/src/app/cadets/[id]/edit/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,2029)),"/Users/ankushjha/Desktop/CURACADET/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/ankushjha/Desktop/CURACADET/src/app/cadets/[id]/edit/page.tsx"],m="/cadets/[id]/edit/page",h={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/cadets/[id]/edit/page",pathname:"/cadets/[id]/edit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},8406:(e,a,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},5329:(e,a,t)=>{Promise.resolve().then(t.bind(t,7069))},9675:()=>{},6333:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});let r=(0,t(664).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},1215:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});let r=(0,t(664).Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},7069:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>m});var r=t(326),s=t(7577),i=t(5047),l=t(80),n=t(6333),d=t(9635),o=t(1215),c=t(434);function m({params:e}){let a=(0,i.useRouter)(),t=parseInt(e.id),[m,h]=(0,s.useState)(null),[x,g]=(0,s.useState)(!0),[u,p]=(0,s.useState)(!1),[j,y]=(0,s.useState)(null),[b,v]=(0,s.useState)({name:"",battalion:"",company:"",joinDate:"",height:"",weight:"",age:"",course:"",sex:""});(0,s.useCallback)(async()=>{try{g(!0),y(null);let e=localStorage.getItem("jwt_token");if(!e){y("Authentication required");return}let a=await fetch(`/api/cadets/${t}`,{headers:{Authorization:`Bearer ${e}`}});a.ok||(0,i.notFound)();let r=await a.json();h(r),v({name:r.name||"",battalion:r.battalion||"",company:r.company||"",joinDate:r.joinDate?r.joinDate.split("T")[0]:"",height:r.height?r.height.toString():"",weight:r.weight?r.weight.toString():"",age:r.age?r.age.toString():"",course:r.course||"",sex:r.sex||""})}catch(e){console.error("Error fetching data:",e),y("Failed to load cadet data")}finally{g(!1)}},[t]);let f=e=>{let{name:a,value:t}=e.target;v(e=>({...e,[a]:t}))},k=async e=>{e.preventDefault(),p(!0),y(null);try{if(!b.name||!b.battalion||!b.company||!b.joinDate)throw Error("Name, battalion, company, and join date are required");let e=localStorage.getItem("jwt_token");if(!e)throw Error("Authentication required");let r={name:b.name,battalion:b.battalion,company:b.company,joinDate:b.joinDate,height:b.height?parseInt(b.height):void 0,weight:b.weight?parseInt(b.weight):void 0,age:b.age?parseInt(b.age):void 0,course:b.course||void 0,sex:b.sex||void 0},s=await fetch(`/api/cadets/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(r)});if(!s.ok){let e=await s.json();throw Error(e.error||"Failed to update cadet")}console.log("✅ CADET UPDATED SUCCESSFULLY"),a.push(`/cadets/${t}`)}catch(e){console.error("❌ Error updating cadet:",e),y(e instanceof Error?e.message:"Failed to update cadet")}finally{p(!1)}};return x?r.jsx(l.Z,{children:r.jsx("div",{className:"flex items-center justify-center min-h-96",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading cadet data..."})]})})}):j&&!m?r.jsx(l.Z,{children:(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsxs)("p",{className:"text-red-600 dark:text-red-400 mb-4",children:["Error: ",j]}),r.jsx(c.default,{href:"/cadets",className:"btn-primary",children:"Back to Cadets"})]})}):r.jsx(l.Z,{children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[r.jsx("div",{className:"flex items-center gap-4",children:(0,r.jsxs)(c.default,{href:`/cadets/${t}`,className:"inline-flex items-center gap-2 text-primary hover:text-primary/80 transition-colors",children:[r.jsx(n.Z,{className:"h-4 w-4"}),"Back to Cadet Details"]})}),(0,r.jsxs)("div",{className:"card p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(d.Z,{className:"h-6 w-6 text-primary"}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Edit Cadet Information"})]}),(0,r.jsxs)("form",{onSubmit:k,className:"space-y-6",children:[j&&r.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:r.jsx("p",{className:"text-red-600 dark:text-red-400",children:j})}),(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2",children:"Basic Information"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Full Name *"}),r.jsx("input",{type:"text",id:"name",name:"name",value:b.name,onChange:f,className:"input-field",placeholder:"Enter full name",required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"joinDate",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Join Date *"}),r.jsx("input",{type:"date",id:"joinDate",name:"joinDate",value:b.joinDate,onChange:f,className:"input-field",required:!0})]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2",children:"Military Assignment"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"battalion",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Battalion *"}),(0,r.jsxs)("select",{id:"battalion",name:"battalion",value:b.battalion,onChange:f,className:"input-field",required:!0,children:[r.jsx("option",{value:"",children:"Select Battalion"}),r.jsx("option",{value:"Shivaji",children:"Shivaji"}),r.jsx("option",{value:"Ranjit Singh",children:"Ranjit Singh"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Company *"}),(0,r.jsxs)("select",{id:"company",name:"company",value:b.company,onChange:f,className:"input-field",required:!0,children:[r.jsx("option",{value:"",children:"Select Company"}),r.jsx("option",{value:"M",children:"M"}),r.jsx("option",{value:"N",children:"N"}),r.jsx("option",{value:"Z",children:"Z"}),r.jsx("option",{value:"J",children:"J"}),r.jsx("option",{value:"K",children:"K"}),r.jsx("option",{value:"P",children:"P"})]})]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2",children:"Demographics (Optional)"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"height",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Height (cm)"}),r.jsx("input",{type:"number",id:"height",name:"height",value:b.height,onChange:f,className:"input-field",placeholder:"e.g. 175",min:"100",max:"250"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"weight",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Weight (kg)"}),r.jsx("input",{type:"number",id:"weight",name:"weight",value:b.weight,onChange:f,className:"input-field",placeholder:"e.g. 70",min:"30",max:"200"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"age",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Age"}),r.jsx("input",{type:"number",id:"age",name:"age",value:b.age,onChange:f,className:"input-field",placeholder:"e.g. 21",min:"16",max:"50"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"course",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Course"}),r.jsx("input",{type:"number",id:"course",name:"course",value:b.course,onChange:f,className:"input-field",placeholder:"e.g. 1, 2, 3",min:1})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"sex",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Sex"}),(0,r.jsxs)("select",{id:"sex",name:"sex",value:b.sex,onChange:f,className:"input-field",children:[r.jsx("option",{value:"",children:"Select Sex"}),r.jsx("option",{value:"Male",children:"Male"}),r.jsx("option",{value:"Female",children:"Female"})]})]})]})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-200 dark:border-gray-700",children:[r.jsx(c.default,{href:`/cadets/${t}`,className:"px-6 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),(0,r.jsxs)("button",{type:"submit",disabled:u,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(o.Z,{className:"h-4 w-4 mr-2"}),u?"Saving...":"Save Changes"]})]})]})]})]})})}},80:(e,a,t)=>{"use strict";t.d(a,{Z:()=>N});var r=t(326),s=t(7577),i=t(5047),l=t(748),n=t(9635),d=t(850),o=t(2607);function c(){let[e,a]=(0,s.useState)("dark");return r.jsx("button",{onClick:()=>{let t="dark"===e?"light":"dark";a(t),document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(t),localStorage.setItem("theme",t)},className:"p-2 rounded-full text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",title:`Switch to ${"dark"===e?"light":"dark"} mode`,children:"dark"===e?r.jsx(d.Z,{className:"h-5 w-5"}):r.jsx(o.Z,{className:"h-5 w-5"})})}let m=({className:e=""})=>(0,r.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[r.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}),r.jsx("path",{d:"M9 9l6 6M15 9l-6 6",stroke:"currentColor",strokeWidth:"2"}),r.jsx("path",{d:"M12 7v6",stroke:"currentColor",strokeWidth:"1.5"})]});function h(){let[e,a]=(0,s.useState)("");return r.jsx("header",{className:"border-b border-gray-200 dark:border-gray-700/50 bg-white dark:bg-gray-800/50",children:r.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex h-16 items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx("button",{className:"lg:hidden p-2 rounded-md text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:r.jsx(l.Z,{className:"h-6 w-6"})}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx(m,{className:"w-8 h-8 text-primary"}),r.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Medical Record for OTA Chennai"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx(c,{}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Welcome, ",e||"User"]}),r.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center",children:r.jsx(n.Z,{className:"h-5 w-5 text-primary"})})]})]})]})})})}var x=t(434),g=t(9798),u=t(4061),p=t(6697),j=t(3855),y=t(6283),b=t(1810);let v=({className:e=""})=>(0,r.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[r.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}),r.jsx("path",{d:"M9 9l6 6M15 9l-6 6",stroke:"currentColor",strokeWidth:"2"}),r.jsx("path",{d:"M12 7v6",stroke:"currentColor",strokeWidth:"1.5"})]}),f=[{name:"Dashboard",href:"/dashboard",icon:g.Z},{name:"Cadet Records",href:"/cadets",icon:u.Z},{name:"Medical History",href:"/medical-history",icon:p.Z},{name:"Add Record",href:"/medical-records/new",icon:j.Z},{name:"Reports",href:"/reports",icon:y.Z}];function k(){let e=(0,i.usePathname)(),a=(0,i.useRouter)();return(0,r.jsxs)("aside",{className:"w-64 flex-col bg-white dark:bg-gray-800/50 border-r border-gray-200 dark:border-gray-700/50 p-4 hidden lg:flex",children:[r.jsx("div",{className:"flex flex-col gap-y-2 mb-8",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx(v,{className:"w-8 h-8 text-primary"}),r.jsx("div",{children:r.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"HEALOTAC"})})]})}),r.jsx("nav",{className:"flex-1 flex flex-col gap-2",children:f.map(a=>{let t=a.icon,s=e===a.href;return(0,r.jsxs)(x.default,{href:a.href,className:`
                flex items-center gap-3 rounded-lg px-3 py-2 font-medium
                ${s?"bg-primary/10 dark:bg-primary/20 text-primary dark:text-white":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"}
              `,children:[r.jsx(t,{className:"h-5 w-5"}),r.jsx("span",{children:a.name})]},a.name)})}),(0,r.jsxs)("button",{onClick:()=>{localStorage.removeItem("jwt_token"),localStorage.removeItem("user_info"),a.push("/")},className:"flex items-center gap-3 rounded-lg px-3 py-2 font-medium text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 mt-auto",children:[r.jsx(b.Z,{className:"h-5 w-5"}),r.jsx("span",{children:"Logout"})]})]})}function N({children:e}){return(0,i.useRouter)(),(0,r.jsxs)("div",{className:"flex min-h-screen",children:[r.jsx(k,{}),r.jsx("div",{className:"w-px bg-gray-200 dark:bg-gray-700/50"}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col",children:[r.jsx(h,{}),r.jsx("main",{className:"flex-1 p-6 lg:p-8 bg-background-light dark:bg-background-dark",children:e})]})]})}},9761:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>r});let r=(0,t(8570).createProxy)(String.raw`/Users/ankushjha/Desktop/CURACADET/src/app/cadets/[id]/edit/page.tsx#default`)},2029:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>i,metadata:()=>s});var r=t(9510);t(5023);let s={title:"HEALOTAC",description:"Medical Records Management System for Indian Army Cadets",keywords:"healotac, medical records, indian army, cadet health, military healthcare",icons:{icon:[{url:"/favicon.png",sizes:"any"},{url:"/favicon.png",sizes:"16x16",type:"image/png"},{url:"/favicon.png",sizes:"32x32",type:"image/png"}],shortcut:"/favicon.png"}};function i({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:"min-h-screen antialiased",children:e})})}},5023:()=>{}};var a=require("../../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),r=a.X(0,[276,471,244],()=>t(8684));module.exports=r})();