(()=>{var e={};e.id=864,e.ids=[864],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8684:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>h,tree:()=>o}),t(9761),t(2029),t(5866);var s=t(3191),r=t(8716),i=t(7922),l=t.n(i),n=t(5231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(a,d);let o=["",{children:["cadets",{children:["[id]",{children:["edit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,9761)),"/Users/ankushjha/Desktop/CURACADET/src/app/cadets/[id]/edit/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,2029)),"/Users/ankushjha/Desktop/CURACADET/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/ankushjha/Desktop/CURACADET/src/app/cadets/[id]/edit/page.tsx"],m="/cadets/[id]/edit/page",x={require:t,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/cadets/[id]/edit/page",pathname:"/cadets/[id]/edit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},8406:(e,a,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},5329:(e,a,t)=>{Promise.resolve().then(t.bind(t,4787))},9675:()=>{},6333:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(664).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},4787:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>m});var s=t(326),r=t(7577),i=t(5047),l=t(80),n=t(6333),d=t(9635);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,t(664).Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var c=t(434);function m({params:e}){let a=(0,i.useRouter)(),t=parseInt(e.id),[m,x]=(0,r.useState)(null),[h,g]=(0,r.useState)(null),[u,p]=(0,r.useState)(!0),[j,y]=(0,r.useState)(!1),[b,v]=(0,r.useState)(null),[f,k]=(0,r.useState)({name:"",battalion:"",company:"",joinDate:"",status:"Active",healthStatus:"Fit",height:"",weight:"",age:"",course:"",sex:""}),N=e=>{let{name:a,value:t}=e.target;k(e=>({...e,[a]:t}))},C=async e=>{e.preventDefault(),y(!0),v(null);try{if(!f.name||!f.battalion||!f.company||!f.joinDate)throw Error("Name, battalion, company, and join date are required");let e={name:f.name,battalion:f.battalion,company:f.company,joinDate:f.joinDate,status:f.status,healthStatus:f.healthStatus,height:f.height?parseInt(f.height):void 0,weight:f.weight?parseInt(f.weight):void 0,age:f.age?parseInt(f.age):void 0,course:f.course||void 0,sex:f.sex||void 0},s=await fetch(`/api/cadets/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok){let e=await s.json();throw Error(e.error||"Failed to update cadet")}console.log("✅ CADET UPDATED SUCCESSFULLY"),a.push(`/cadets/${t}`)}catch(e){console.error("❌ Error updating cadet:",e),v(e instanceof Error?e.message:"Failed to update cadet")}finally{y(!1)}},w="all"===f.battalion?h?.companies||[]:h?.companiesByBattalion?.[f.battalion]||[];return u?s.jsx(l.default,{children:s.jsx("div",{className:"flex items-center justify-center min-h-96",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading cadet data..."})]})})}):b&&!m?s.jsx(l.default,{children:(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsxs)("p",{className:"text-red-600 dark:text-red-400 mb-4",children:["Error: ",b]}),s.jsx(c.default,{href:"/cadets",className:"btn-primary",children:"Back to Cadets"})]})}):s.jsx(l.default,{children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsx("div",{className:"flex items-center gap-4",children:(0,s.jsxs)(c.default,{href:`/cadets/${t}`,className:"inline-flex items-center gap-2 text-primary hover:text-primary/80 transition-colors",children:[s.jsx(n.Z,{className:"h-4 w-4"}),"Back to Cadet Details"]})}),(0,s.jsxs)("div",{className:"card p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(d.Z,{className:"h-6 w-6 text-primary"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Edit Cadet Information"})]}),(0,s.jsxs)("form",{onSubmit:C,className:"space-y-6",children:[b&&s.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:s.jsx("p",{className:"text-red-600 dark:text-red-400",children:b})}),(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2",children:"Basic Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Full Name *"}),s.jsx("input",{type:"text",id:"name",name:"name",value:f.name,onChange:N,className:"input-field",placeholder:"Enter full name",required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"joinDate",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Join Date *"}),s.jsx("input",{type:"date",id:"joinDate",name:"joinDate",value:f.joinDate,onChange:N,className:"input-field",required:!0})]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2",children:"Military Assignment"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"battalion",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Battalion *"}),(0,s.jsxs)("select",{id:"battalion",name:"battalion",value:f.battalion,onChange:N,className:"input-field",required:!0,children:[s.jsx("option",{value:"",children:"Select Battalion"}),h?.battalions.map(e=>s.jsx("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Company *"}),(0,s.jsxs)("select",{id:"company",name:"company",value:f.company,onChange:N,className:"input-field",required:!0,disabled:!f.battalion,children:[s.jsx("option",{value:"",children:"Select Company"}),w.map(e=>(0,s.jsxs)("option",{value:e,children:[e," Company"]},e))]})]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2",children:"Status Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Cadet Status"}),(0,s.jsxs)("select",{id:"status",name:"status",value:f.status,onChange:N,className:"input-field",children:[s.jsx("option",{value:"Active",children:"Active"}),s.jsx("option",{value:"Inactive",children:"Inactive"}),s.jsx("option",{value:"Graduated",children:"Graduated"})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"healthStatus",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Health Status"}),(0,s.jsxs)("select",{id:"healthStatus",name:"healthStatus",value:f.healthStatus,onChange:N,className:"input-field",children:[s.jsx("option",{value:"Fit",children:"Fit"}),s.jsx("option",{value:"Under Treatment",children:"Under Treatment"}),s.jsx("option",{value:"Recovered",children:"Recovered"})]})]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2",children:"Demographics (Optional)"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"height",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Height (cm)"}),s.jsx("input",{type:"number",id:"height",name:"height",value:f.height,onChange:N,className:"input-field",placeholder:"e.g. 175",min:"100",max:"250"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"weight",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Weight (kg)"}),s.jsx("input",{type:"number",id:"weight",name:"weight",value:f.weight,onChange:N,className:"input-field",placeholder:"e.g. 70",min:"30",max:"200"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"age",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Age"}),s.jsx("input",{type:"number",id:"age",name:"age",value:f.age,onChange:N,className:"input-field",placeholder:"e.g. 21",min:"16",max:"50"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"course",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Course"}),s.jsx("input",{type:"text",id:"course",name:"course",value:f.course,onChange:N,className:"input-field",placeholder:"e.g. NDA, CDS"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"sex",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Sex"}),(0,s.jsxs)("select",{id:"sex",name:"sex",value:f.sex,onChange:N,className:"input-field",children:[s.jsx("option",{value:"",children:"Select Sex"}),s.jsx("option",{value:"Male",children:"Male"}),s.jsx("option",{value:"Female",children:"Female"})]})]})]})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-200 dark:border-gray-700",children:[s.jsx(c.default,{href:`/cadets/${t}`,className:"px-6 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),(0,s.jsxs)("button",{type:"submit",disabled:j,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(o,{className:"h-4 w-4 mr-2"}),j?"Saving...":"Save Changes"]})]})]})]})]})})}},80:(e,a,t)=>{"use strict";t.d(a,{default:()=>N});var s=t(326),r=t(7577),i=t(5047),l=t(748),n=t(9635),d=t(850),o=t(2607);function c(){let[e,a]=(0,r.useState)("dark");return s.jsx("button",{onClick:()=>{let t="dark"===e?"light":"dark";a(t),document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(t),localStorage.setItem("theme",t)},className:"p-2 rounded-full text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",title:`Switch to ${"dark"===e?"light":"dark"} mode`,children:"dark"===e?s.jsx(d.Z,{className:"h-5 w-5"}):s.jsx(o.Z,{className:"h-5 w-5"})})}let m=({className:e=""})=>(0,s.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[s.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}),s.jsx("path",{d:"M12 7v6M10 10h4",stroke:"currentColor",strokeWidth:"2"})]});function x(){let[e,a]=(0,r.useState)("");return s.jsx("header",{className:"border-b border-gray-200 dark:border-gray-700/50 bg-white dark:bg-gray-800/50",children:s.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex h-16 items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[s.jsx("button",{className:"lg:hidden p-2 rounded-md text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:s.jsx(l.Z,{className:"h-6 w-6"})}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx(m,{className:"w-8 h-8 text-primary"}),s.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"CURACADET"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[s.jsx(c,{}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Welcome, ",e||"User"]}),s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center",children:s.jsx(n.Z,{className:"h-5 w-5 text-primary"})})]})]})]})})})}var h=t(434),g=t(9798),u=t(4061),p=t(6697),j=t(3855),y=t(6283),b=t(1810);let v=({className:e=""})=>(0,s.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[s.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}),s.jsx("path",{d:"M12 7v6M10 10h4",stroke:"currentColor",strokeWidth:"2"})]}),f=[{name:"Dashboard",href:"/dashboard",icon:g.Z},{name:"Cadet Records",href:"/cadets",icon:u.Z},{name:"Medical History",href:"/medical-history",icon:p.Z},{name:"Add Record",href:"/medical-records/new",icon:j.Z},{name:"Reports",href:"/reports",icon:y.Z}];function k(){let e=(0,i.usePathname)(),a=(0,i.useRouter)();return(0,s.jsxs)("aside",{className:"w-64 flex-col bg-white dark:bg-gray-800/50 border-r border-gray-200 dark:border-gray-700/50 p-4 hidden lg:flex",children:[s.jsx("div",{className:"flex flex-col gap-y-2 mb-8",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx(v,{className:"w-8 h-8 text-primary"}),(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"CURACADET"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Attendant Portal"})]})]})}),s.jsx("nav",{className:"flex-1 flex flex-col gap-2",children:f.map(a=>{let t=a.icon,r=e===a.href;return(0,s.jsxs)(h.default,{href:a.href,className:`
                flex items-center gap-3 rounded-lg px-3 py-2 font-medium
                ${r?"bg-primary/10 dark:bg-primary/20 text-primary dark:text-white":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"}
              `,children:[s.jsx(t,{className:"h-5 w-5"}),s.jsx("span",{children:a.name})]},a.name)})}),(0,s.jsxs)("button",{onClick:()=>{localStorage.removeItem("jwt_token"),localStorage.removeItem("user_info"),a.push("/")},className:"flex items-center gap-3 rounded-lg px-3 py-2 font-medium text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 mt-auto",children:[s.jsx(b.Z,{className:"h-5 w-5"}),s.jsx("span",{children:"Logout"})]})]})}function N({children:e}){return(0,i.useRouter)(),(0,s.jsxs)("div",{className:"flex min-h-screen",children:[s.jsx(k,{}),s.jsx("div",{className:"w-px bg-gray-200 dark:bg-gray-700/50"}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col",children:[s.jsx(x,{}),s.jsx("main",{className:"flex-1 p-6 lg:p-8 bg-background-light dark:bg-background-dark",children:e})]})]})}},9761:(e,a,t)=>{"use strict";t.r(a),t.d(a,{$$typeof:()=>l,__esModule:()=>i,default:()=>n});var s=t(8570);let r=(0,s.createProxy)(String.raw`/Users/ankushjha/Desktop/CURACADET/src/app/cadets/[id]/edit/page.tsx`),{__esModule:i,$$typeof:l}=r;r.default;let n=(0,s.createProxy)(String.raw`/Users/ankushjha/Desktop/CURACADET/src/app/cadets/[id]/edit/page.tsx#default`)},2029:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>i,metadata:()=>r});var s=t(9510);t(5023);let r={title:"CURACADET",description:"Medical Records Management System for Indian Army Cadets",keywords:"curacadet, medical records, indian army, cadet health, military healthcare",icons:{icon:[{url:"/favicon.png",sizes:"any"},{url:"/favicon.png",sizes:"16x16",type:"image/png"},{url:"/favicon.png",sizes:"32x32",type:"image/png"}],shortcut:"/favicon.png"}};function i({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{className:"min-h-screen antialiased",children:e})})}},5023:()=>{}};var a=require("../../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),s=a.X(0,[948,471,244],()=>t(8684));module.exports=s})();