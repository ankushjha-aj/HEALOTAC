"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[196],{2660:function(e,t,a){a.d(t,{Z:function(){return r}});let r=(0,a(9205).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},1047:function(e,t,a){a.d(t,{Z:function(){return r}});let r=(0,a(9205).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},1723:function(e,t,a){a.d(t,{Z:function(){return r}});let r=(0,a(9205).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},6663:function(e,t,a){a.d(t,{Z:function(){return n}});var r=a(7437),s=a(1047),d=a(1723),l=a(7648);function n(e){let{records:t,cadetId:a,showAll:n=!1}=e,i=n?t:t.slice(0,5);return(0,r.jsxs)("div",{className:"space-y-4",children:[i.map(e=>{let t;return(0,r.jsxs)("div",{className:"card p-4",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:e.medicalProblem}),(0,r.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(s.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:new Date(e.dateOfReporting).toLocaleDateString()})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(d.Z,{className:"h-4 w-4"}),(0,r.jsxs)("span",{children:["Created ",new Date(e.createdAt).toLocaleDateString()]})]})]})]}),(0,r.jsx)("div",{className:"flex gap-2 items-center"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.diagnosis&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Diagnosis"}),(0,r.jsx)("p",{className:"text-sm text-gray-900 dark:text-white mt-1",children:e.diagnosis})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Details"}),(0,r.jsxs)("div",{className:"text-sm text-gray-900 dark:text-white mt-1 space-y-1",children:[e.attendC&&Number(e.attendC)>0?(0,r.jsxs)("div",{children:["Attend C: ",e.attendC]}):null,0===e.attendC&&e.totalTrainingDaysMissed&&Number(e.totalTrainingDaysMissed)>0?(0,r.jsxs)("div",{className:"font-medium text-orange-600 dark:text-orange-400",children:["MI Detained: ",e.totalTrainingDaysMissed," days"]}):null,e.attendC&&Number(e.attendC)>0&&e.totalTrainingDaysMissed&&Number(e.totalTrainingDaysMissed)>Number(e.attendC)?(0,r.jsxs)("div",{className:"font-medium text-orange-600 dark:text-orange-400",children:["MI Detained: ",e.totalTrainingDaysMissed-e.attendC," days"]}):null,e.exPpg&&Number(e.exPpg)>0?(0,r.jsxs)("div",{children:["Ex-PPG: ",e.exPpg," (+",(.25*e.exPpg).toFixed(1)," day",.25*e.exPpg!=1?"s":""," missed)"]}):null,e.attendB&&Number(e.attendB)>0?(0,r.jsxs)("div",{children:["Attend B: ",e.attendB," (+",(.25*e.attendB).toFixed(1)," day",.25*e.attendB!=1?"s":""," missed)"]}):null,e.physiotherapy&&Number(e.physiotherapy)>0?(0,r.jsxs)("div",{children:["Physiotherapy: ",e.physiotherapy]}):null,(t=e.totalTrainingDaysMissed||0,e.exPpg&&Number(e.exPpg)>0&&(t+=.25*Number(e.exPpg)),e.attendB&&Number(e.attendB)>0&&(t+=.25*Number(e.attendB)),t>0?(0,r.jsxs)("div",{className:"font-medium text-red-600 dark:text-red-400 border-t border-gray-200 dark:border-gray-600 pt-1 mt-2",children:["Training Days Missed: ",t.toFixed(1)," day",1!==t?"s":""]}):null)]})]})]}),e.remarks&&(0,r.jsxs)("div",{className:"mt-3",children:[(0,r.jsx)("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Remarks"}),(0,r.jsx)("p",{className:"text-sm text-gray-900 dark:text-white mt-1",children:e.remarks})]})]},e.id)}),!n&&t.length>5&&(0,r.jsx)("div",{className:"text-center pt-4",children:(0,r.jsxs)(l.default,{href:"/medical-history/".concat(a),className:"text-primary hover:text-primary/80",children:["View all ",t.length," records â†’"]})})]})}},9893:function(e,t,a){a.d(t,{Z:function(){return v}});var r=a(7437),s=a(2265),d=a(9376),l=a(8293),n=a(2369),i=a(5929),c=a(7226);function o(){let[e,t]=(0,s.useState)("dark");return(0,s.useEffect)(()=>{let e=localStorage.getItem("theme");if(e)t(e),document.documentElement.classList.toggle("dark","dark"===e),document.documentElement.classList.toggle("light","light"===e);else{let e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";t(e),document.documentElement.classList.toggle("dark","dark"===e),document.documentElement.classList.toggle("light","light"===e)}},[]),(0,r.jsx)("button",{onClick:()=>{let a="dark"===e?"light":"dark";t(a),document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(a),localStorage.setItem("theme",a)},className:"p-2 rounded-full text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",title:"Switch to ".concat("dark"===e?"light":"dark"," mode"),children:"dark"===e?(0,r.jsx)(i.Z,{className:"h-5 w-5"}):(0,r.jsx)(c.Z,{className:"h-5 w-5"})})}let m=e=>{let{className:t=""}=e;return(0,r.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[(0,r.jsx)("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}),(0,r.jsx)("path",{d:"M9 9l6 6M15 9l-6 6",stroke:"currentColor",strokeWidth:"2"}),(0,r.jsx)("path",{d:"M12 7v6",stroke:"currentColor",strokeWidth:"1.5"})]})};function x(){let[e,t]=(0,s.useState)("");return(0,s.useEffect)(()=>{let e=localStorage.getItem("user_info");if(e)try{let a=JSON.parse(e);t(a.username||a.name||"User")}catch(e){t("User")}},[]),(0,r.jsx)("header",{className:"border-b border-gray-200 dark:border-gray-700/50 bg-white dark:bg-gray-800/50",children:(0,r.jsx)("div",{className:"px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex h-16 items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("button",{className:"lg:hidden p-2 rounded-md text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:(0,r.jsx)(l.Z,{className:"h-6 w-6"})}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(m,{className:"w-8 h-8 text-primary"}),(0,r.jsx)("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Medical Record for OTA Chennai"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(o,{}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Welcome, ",e||"User"]}),(0,r.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center",children:(0,r.jsx)(n.Z,{className:"h-5 w-5 text-primary"})})]})]})]})})})}var h=a(7648),g=a(4938),u=a(5805),p=a(4401),y=a(9397),k=a(8736),f=a(7692);let j=e=>{let{className:t=""}=e;return(0,r.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[(0,r.jsx)("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}),(0,r.jsx)("path",{d:"M9 9l6 6M15 9l-6 6",stroke:"currentColor",strokeWidth:"2"}),(0,r.jsx)("path",{d:"M12 7v6",stroke:"currentColor",strokeWidth:"1.5"})]})},N=[{name:"Dashboard",href:"/dashboard",icon:g.Z},{name:"Cadet Records",href:"/cadets",icon:u.Z},{name:"Medical History",href:"/medical-history",icon:p.Z},{name:"Add Record",href:"/medical-records/new",icon:y.Z},{name:"Reports",href:"/reports",icon:k.Z}];function b(){let e=(0,d.usePathname)(),t=(0,d.useRouter)();return(0,r.jsxs)("aside",{className:"w-64 flex-col bg-white dark:bg-gray-800/50 border-r border-gray-200 dark:border-gray-700/50 p-4 hidden lg:flex",children:[(0,r.jsx)("div",{className:"flex flex-col gap-y-2 mb-8",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(j,{className:"w-8 h-8 text-primary"}),(0,r.jsx)("div",{children:(0,r.jsx)("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"HEALOTAC"})})]})}),(0,r.jsx)("nav",{className:"flex-1 flex flex-col gap-2",children:N.map(t=>{let a=t.icon,s=e===t.href;return(0,r.jsxs)(h.default,{href:t.href,className:"\n                flex items-center gap-3 rounded-lg px-3 py-2 font-medium\n                ".concat(s?"bg-primary/10 dark:bg-primary/20 text-primary dark:text-white":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800","\n              "),children:[(0,r.jsx)(a,{className:"h-5 w-5"}),(0,r.jsx)("span",{children:t.name})]},t.name)})}),(0,r.jsxs)("button",{onClick:()=>{localStorage.removeItem("jwt_token"),localStorage.removeItem("user_info"),t.push("/")},className:"flex items-center gap-3 rounded-lg px-3 py-2 font-medium text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 mt-auto",children:[(0,r.jsx)(f.Z,{className:"h-5 w-5"}),(0,r.jsx)("span",{children:"Logout"})]})]})}function v(e){let{children:t}=e,a=(0,d.useRouter)();return(0,s.useEffect)(()=>{localStorage.getItem("jwt_token")||a.push("/")},[a]),(0,r.jsxs)("div",{className:"flex min-h-screen",children:[(0,r.jsx)(b,{}),(0,r.jsx)("div",{className:"w-px bg-gray-200 dark:bg-gray-700/50"}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,r.jsx)(x,{}),(0,r.jsx)("main",{className:"flex-1 p-6 lg:p-8 bg-background-light dark:bg-background-dark",children:t})]})]})}}}]);