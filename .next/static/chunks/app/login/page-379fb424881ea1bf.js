(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{3730:function(e,r,t){Promise.resolve().then(t.bind(t,8991))},9205:function(e,r,t){"use strict";t.d(r,{Z:function(){return i}});var a=t(2265);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&t.indexOf(e)===r).join(" ")};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,a.forwardRef)((e,r)=>{let{color:t="currentColor",size:s=24,strokeWidth:d=2,absoluteStrokeWidth:i,className:l="",children:c,iconNode:u,...m}=e;return(0,a.createElement)("svg",{ref:r,...o,width:s,height:s,stroke:t,strokeWidth:i?24*Number(d)/Number(s):d,className:n("lucide",l),...m},[...u.map(e=>{let[r,t]=e;return(0,a.createElement)(r,t)}),...Array.isArray(c)?c:[c]])}),i=(e,r)=>{let t=(0,a.forwardRef)((t,o)=>{let{className:i,...l}=t;return(0,a.createElement)(d,{ref:o,iconNode:r,className:n("lucide-".concat(s(e)),i),...l})});return t.displayName="".concat(e),t}},7769:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(9205).Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},2208:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(9205).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},8906:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(9205).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},9376:function(e,r,t){"use strict";var a=t(5475);t.o(a,"notFound")&&t.d(r,{notFound:function(){return a.notFound}}),t.o(a,"usePathname")&&t.d(r,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(r,{useSearchParams:function(){return a.useSearchParams}})},8991:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return l}});var a=t(7437),s=t(2265),n=t(9376),o=t(8906),d=t(7769),i=t(2208);function l(){let[e,r]=(0,s.useState)(""),[t,l]=(0,s.useState)(""),[c,u]=(0,s.useState)(!1),[m,h]=(0,s.useState)(!1),[y,f]=(0,s.useState)(""),x=(0,n.useRouter)();(0,s.useEffect)(()=>{let e=localStorage.getItem("jwt_token");e&&fetch("/api/cadets",{headers:{Authorization:"Bearer ".concat(e)}}).then(e=>{e.ok?x.push("/dashboard"):localStorage.removeItem("jwt_token")}).catch(()=>{localStorage.removeItem("jwt_token")})},[x]);let g=async r=>{r.preventDefault(),h(!0),f("");try{let r=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}),a=await r.json();r.ok?(localStorage.setItem("jwt_token",a.token),localStorage.setItem("user_info",JSON.stringify(a.user)),x.push("/dashboard")):f(a.error||"Login failed")}catch(e){f("Network error. Please try again.")}finally{h(!1)}};return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"mx-auto h-16 w-16 bg-primary rounded-full flex items-center justify-center",children:(0,a.jsx)(o.Z,{className:"h-8 w-8 text-white"})}),(0,a.jsx)("h2",{className:"mt-6 text-3xl font-bold text-gray-900 dark:text-white",children:"CURACADET"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Indian Army Medical Records Management System"})]}),(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 py-8 px-6 shadow-xl rounded-lg border border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("form",{className:"space-y-6",onSubmit:g,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Username"}),(0,a.jsx)("input",{id:"username",name:"username",type:"text",required:!0,value:e,onChange:e=>r(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-primary focus:border-primary",placeholder:"Enter your username"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Password"}),(0,a.jsxs)("div",{className:"mt-1 relative",children:[(0,a.jsx)("input",{id:"password",name:"password",type:c?"text":"password",required:!0,value:t,onChange:e=>l(e.target.value),className:"block w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-primary focus:border-primary",placeholder:"Enter your password"}),(0,a.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>u(!c),children:c?(0,a.jsx)(d.Z,{className:"h-5 w-5 text-gray-400"}):(0,a.jsx)(i.Z,{className:"h-5 w-5 text-gray-400"})})]})]}),y&&(0,a.jsx)("div",{className:"text-red-600 dark:text-red-400 text-sm text-center bg-red-50 dark:bg-red-900/20 p-3 rounded-md",children:y}),(0,a.jsx)("button",{type:"submit",disabled:m,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:m?(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Signing in..."]}):"Sign In"})]})})]})})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=3730)}),_N_E=e.O()}]);