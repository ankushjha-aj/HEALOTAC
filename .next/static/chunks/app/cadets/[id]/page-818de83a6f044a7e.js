(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[363],{1589:function(e,t,r){Promise.resolve().then(r.t.bind(r,231,23)),Promise.resolve().then(r.bind(r,9183)),Promise.resolve().then(r.bind(r,7357))},4241:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(8030).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},933:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(8030).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},9183:function(e,t,r){"use strict";r.d(t,{default:function(){return i}});var s=r(7437),a=r(4241),l=r(933),n=r(7138);function i(e){let{records:t,cadetId:r}=e,i=async(e,t)=>{try{let r=localStorage.getItem("jwt_token");if(!r){alert("Authentication required");return}let s=await fetch("/api/medical-records/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify({status:t})});if(s.ok)window.location.reload();else{let e=await s.json();alert("Failed to update status: ".concat(e.error||"Unknown error"))}}catch(e){console.error("Error updating status:",e),alert("Failed to update medical record status")}};return(0,s.jsxs)("div",{className:"space-y-4",children:[t.slice(0,5).map(e=>(0,s.jsxs)("div",{className:"card p-4",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:e.medicalProblem}),(0,s.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(a.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:new Date(e.dateOfReporting).toLocaleDateString()})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(l.Z,{className:"h-4 w-4"}),(0,s.jsxs)("span",{children:["Created ",new Date(e.createdAt).toLocaleDateString()]})]})]})]}),(0,s.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,s.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("Active"===e.status?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400":"Completed"===e.status?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"),children:e.status}),"Active"===e.status&&(0,s.jsxs)("button",{onClick:()=>i(e.id,"Completed"),className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium bg-green-600 text-white rounded hover:bg-green-700 transition-colors",title:"Mark as completed",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,s.jsx)("polyline",{points:"20 6 9 17 4 12"})}),"Complete"]}),e.monitoringCase&&(0,s.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",children:"Monitoring Case"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.diagnosis&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Diagnosis"}),(0,s.jsx)("p",{className:"text-sm text-gray-900 dark:text-white mt-1",children:e.diagnosis})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Details"}),(0,s.jsxs)("div",{className:"text-sm text-gray-900 dark:text-white mt-1 space-y-1",children:[(0,s.jsxs)("div",{children:["Attend C: ",e.attendC]}),e.trainingDaysMissed>0&&(0,s.jsxs)("div",{children:["Training Days Missed: ",e.trainingDaysMissed]})]})]})]}),e.remarks&&(0,s.jsxs)("div",{className:"mt-3",children:[(0,s.jsx)("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Remarks"}),(0,s.jsx)("p",{className:"text-sm text-gray-900 dark:text-white mt-1",children:e.remarks})]})]},e.id)),t.length>5&&(0,s.jsx)("div",{className:"text-center pt-4",children:(0,s.jsxs)(n.default,{href:"/medical-history/".concat(r),className:"text-primary hover:text-primary/80",children:["View all ",t.length," records â†’"]})})]})}},7357:function(e,t,r){"use strict";r.d(t,{default:function(){return N}});var s=r(7437),a=r(2265),l=r(6463),n=r(2873),i=r(2022),d=r(8296),c=r(2699);function o(){let[e,t]=(0,a.useState)("dark");return(0,a.useEffect)(()=>{let e=localStorage.getItem("theme");if(e)t(e),document.documentElement.classList.toggle("dark","dark"===e),document.documentElement.classList.toggle("light","light"===e);else{let e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";t(e),document.documentElement.classList.toggle("dark","dark"===e),document.documentElement.classList.toggle("light","light"===e)}},[]),(0,s.jsx)("button",{onClick:()=>{let r="dark"===e?"light":"dark";t(r),document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(r),localStorage.setItem("theme",r)},className:"p-2 rounded-full text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",title:"Switch to ".concat("dark"===e?"light":"dark"," mode"),children:"dark"===e?(0,s.jsx)(d.Z,{className:"h-5 w-5"}):(0,s.jsx)(c.Z,{className:"h-5 w-5"})})}let x=e=>{let{className:t=""}=e;return(0,s.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[(0,s.jsx)("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}),(0,s.jsx)("path",{d:"M12 7v6M10 10h4",stroke:"currentColor",strokeWidth:"2"})]})};function m(){let[e,t]=(0,a.useState)("");return(0,a.useEffect)(()=>{let e=localStorage.getItem("user_info");if(e)try{let r=JSON.parse(e);t(r.username||r.name||"User")}catch(e){t("User")}},[]),(0,s.jsx)("header",{className:"border-b border-gray-200 dark:border-gray-700/50 bg-white dark:bg-gray-800/50",children:(0,s.jsx)("div",{className:"px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex h-16 items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("button",{className:"lg:hidden p-2 rounded-md text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:(0,s.jsx)(n.Z,{className:"h-6 w-6"})}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(x,{className:"w-8 h-8 text-primary"}),(0,s.jsx)("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"CURACADET"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(o,{}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Welcome, ",e||"User"]}),(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center",children:(0,s.jsx)(i.Z,{className:"h-5 w-5 text-primary"})})]})]})]})})})}var h=r(7138),g=r(3852),u=r(1240),p=r(4207),f=r(2513),k=r(2023),y=r(9896);let j=e=>{let{className:t=""}=e;return(0,s.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[(0,s.jsx)("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}),(0,s.jsx)("path",{d:"M12 7v6M10 10h4",stroke:"currentColor",strokeWidth:"2"})]})},v=[{name:"Dashboard",href:"/dashboard",icon:g.Z},{name:"Cadet Records",href:"/cadets",icon:u.Z},{name:"Medical History",href:"/medical-history",icon:p.Z},{name:"Add Record",href:"/medical-records/new",icon:f.Z},{name:"Reports",href:"/reports",icon:k.Z}];function b(){let e=(0,l.usePathname)(),t=(0,l.useRouter)();return(0,s.jsxs)("aside",{className:"w-64 flex-col bg-white dark:bg-gray-800/50 border-r border-gray-200 dark:border-gray-700/50 p-4 hidden lg:flex",children:[(0,s.jsx)("div",{className:"flex flex-col gap-y-2 mb-8",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(j,{className:"w-8 h-8 text-primary"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"CURACADET"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Attendant Portal"})]})]})}),(0,s.jsx)("nav",{className:"flex-1 flex flex-col gap-2",children:v.map(t=>{let r=t.icon,a=e===t.href;return(0,s.jsxs)(h.default,{href:t.href,className:"\n                flex items-center gap-3 rounded-lg px-3 py-2 font-medium\n                ".concat(a?"bg-primary/10 dark:bg-primary/20 text-primary dark:text-white":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800","\n              "),children:[(0,s.jsx)(r,{className:"h-5 w-5"}),(0,s.jsx)("span",{children:t.name})]},t.name)})}),(0,s.jsxs)("button",{onClick:()=>{localStorage.removeItem("jwt_token"),localStorage.removeItem("user_info"),t.push("/")},className:"flex items-center gap-3 rounded-lg px-3 py-2 font-medium text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 mt-auto",children:[(0,s.jsx)(y.Z,{className:"h-5 w-5"}),(0,s.jsx)("span",{children:"Logout"})]})]})}function N(e){let{children:t}=e,r=(0,l.useRouter)();return(0,a.useEffect)(()=>{localStorage.getItem("jwt_token")||r.push("/")},[r]),(0,s.jsxs)("div",{className:"flex min-h-screen",children:[(0,s.jsx)(b,{}),(0,s.jsx)("div",{className:"w-px bg-gray-200 dark:bg-gray-700/50"}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,s.jsx)(m,{}),(0,s.jsx)("main",{className:"flex-1 p-6 lg:p-8 bg-background-light dark:bg-background-dark",children:t})]})]})}}},function(e){e.O(0,[841,971,23,744],function(){return e(e.s=1589)}),_N_E=e.O()}]);