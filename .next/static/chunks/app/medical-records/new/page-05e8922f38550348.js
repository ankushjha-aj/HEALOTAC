(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[770],{7119:function(e,t,a){Promise.resolve().then(a.bind(a,3786))},3786:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var r=a(7437),s=a(2265),l=a(9376),d=a(9893),n=a(7648),i=a(9397),c=a(2369);let o=(0,a(9205).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function m(){let e=(0,l.useRouter)(),t=(0,l.useSearchParams)(),[a,m]=(0,s.useState)(!1),[x,h]=(0,s.useState)([]),[u,g]=(0,s.useState)(!0),[p,b]=(0,s.useState)(!1),[j,f]=(0,s.useState)(!1),[y,N]=(0,s.useState)(""),[v,k]=(0,s.useState)(!1),[C,w]=(0,s.useState)(null),[S,A]=(0,s.useState)({cadetId:"",dateOfReporting:"",medicalProblem:"",diagnosis:"",status:"Active",attendC:"0",contactNo:"",remarks:"",monitoringCase:"No"}),[F,E]=(0,s.useState)({name:"",battalion:"",company:"",joinDate:"",status:"Active",healthStatus:"Fit",academyNumber:"",height:"",weight:"",age:"",course:"",sex:""}),[R,I]=(0,s.useState)(null),[D,O]=(0,s.useState)(null),[P,L]=(0,s.useState)({});(0,s.useEffect)(()=>{(async()=>{try{let e=localStorage.getItem("jwt_token");if(!e){O("Authentication required"),g(!1);return}let t=await fetch("/api/cadets",{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){let e=await t.json();h(e)}else if(401===t.status)O("Authentication required");else throw Error("Failed to fetch cadets")}catch(e){console.error("Error fetching cadets:",e),O(e instanceof Error?e.message:"Failed to fetch cadets")}finally{g(!1)}})()},[]),(0,s.useEffect)(()=>{let e=t.get("cadetId");if(e&&x.length>0){let t=parseInt(e),a=x.find(e=>e.id===t);a&&q(a)}},[x,t]);let M=e=>{let{name:t,value:a}=e.target;A(e=>({...e,[t]:a}))},q=e=>{w(e),N("".concat(e.name," - ").concat(e.company," Company, ").concat(e.battalion)),A(t=>({...t,cadetId:e.id.toString()})),k(!1)},B=x.filter(e=>""!==y.trim()&&(e.name.toLowerCase().includes(y.toLowerCase())||e.company.toLowerCase().includes(y.toLowerCase())||e.battalion.toLowerCase().includes(y.toLowerCase()))),Z=e=>{let{name:t,value:a}=e.target;E(e=>({...e,[t]:a}))},_=async e=>{e.preventDefault(),I(null),f(!0);try{let e=localStorage.getItem("jwt_token");if(!e){I("Authentication required");return}let t=await fetch("/api/cadets",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(F)}),a=await t.json();t.ok?(console.log("✅ CREATED CADET:",a),h(e=>[...e,a]),A(e=>({...e,cadetId:a.id.toString()})),b(!1),E({name:"",battalion:"",company:"",joinDate:"",status:"Active",healthStatus:"Fit",academyNumber:"",height:"",weight:"",age:"",course:"",sex:""}),alert("Cadet added successfully!")):I(a.error||"Failed to add cadet")}catch(e){console.error("❌ Error adding cadet:",e),I(e instanceof Error?e.message:"Network error. Please try again.")}finally{f(!1)}},T=()=>{let e={};return S.cadetId||(e.cadetId="Please select a cadet"),S.dateOfReporting||(e.dateOfReporting="Date of reporting is required"),S.medicalProblem.trim()||(e.medicalProblem="Medical problem is required"),L(e),0===Object.keys(e).length},z=async t=>{if(t.preventDefault(),T()){O(null),m(!0);try{let t=localStorage.getItem("jwt_token");if(!t){O("Authentication required");return}let a={cadetId:S.cadetId,dateOfReporting:S.dateOfReporting,medicalProblem:S.medicalProblem,diagnosis:S.diagnosis,status:S.status,attendC:parseInt(S.attendC),contactNo:S.contactNo,remarks:S.remarks,monitoringCase:S.monitoringCase},r=await fetch("/api/medical-records",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(a)}),s=await r.json();r.ok?(console.log("✅ CREATED MEDICAL RECORD:",s),alert("Medical record added successfully!"),e.push("/reports")):O(s.error||"Failed to add medical record")}catch(e){console.error("❌ Error adding medical record:",e),O(e instanceof Error?e.message:"Network error. Please try again.")}finally{m(!1)}}};return(0,r.jsxs)(d.default,{children:[(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Add Medical Record"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Record a new medical visit or treatment"})]}),(0,r.jsx)("div",{className:"card p-6",children:(0,r.jsxs)("form",{onSubmit:z,className:"space-y-6",children:[D&&(0,r.jsx)("div",{className:"p-3 text-sm text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:D}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"md:col-span-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Cadet Selection *"}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("div",{className:"flex-1 relative",children:u?(0,r.jsxs)("div",{className:"input-field flex items-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary mr-2"}),"Loading cadets..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",{type:"text",placeholder:"Search for existing cadet by name, company, or battalion...",value:y,onChange:e=>{let t=e.target.value;N(t),k(t.trim().length>0),t.trim()||(w(null),A(e=>({...e,cadetId:""})))},onFocus:()=>{k(y.trim().length>0)},onBlur:()=>setTimeout(()=>k(!1),200),className:"input-field ".concat(P.cadetId?"border-red-500 focus:border-red-500 focus:ring-red-500":""),required:!!S.cadetId}),v&&B.length>0&&(0,r.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-lg max-h-60 overflow-y-auto",children:B.slice(0,10).map(e=>(0,r.jsxs)("div",{className:"px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer border-b border-gray-100 dark:border-gray-600 last:border-b-0",onClick:()=>q(e),children:[(0,r.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),(0,r.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[e.company," Company, ",e.battalion]})]},e.id))})]})}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{type:"button",onClick:()=>b(!0),className:"btn-secondary text-sm px-3 py-1",title:"Add new cadet",children:(0,r.jsx)(i.Z,{className:"h-4 w-4"})}),C&&(0,r.jsx)(n.default,{href:"/cadets/".concat(C.id,"/edit"),className:"btn-secondary text-sm px-3 py-1",title:"Edit selected cadet",children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,r.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})})]})]}),P.cadetId&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:P.cadetId}),C&&(0,r.jsx)("div",{className:"mt-2 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:(0,r.jsxs)("div",{className:"text-sm",children:[(0,r.jsx)("span",{className:"font-medium text-green-800 dark:text-green-400",children:"Selected:"})," ",(0,r.jsxs)("span",{className:"text-green-700 dark:text-green-300",children:[C.name," - ",C.company," Company, ",C.battalion]})]})}),0===x.length&&!u&&(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:'No cadets available. Use "Add New" to create the first cadet.'})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"dateOfReporting",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Date of reporting *"}),(0,r.jsx)("input",{type:"date",id:"dateOfReporting",name:"dateOfReporting",required:!0,value:S.dateOfReporting,onChange:M,className:"input-field ".concat(P.dateOfReporting?"border-red-500 focus:border-red-500 focus:ring-red-500":"")}),P.dateOfReporting&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:P.dateOfReporting})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"medicalProblem",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Medical Problem *"}),(0,r.jsx)("input",{type:"text",id:"medicalProblem",name:"medicalProblem",required:!0,value:S.medicalProblem,onChange:M,className:"input-field ".concat(P.medicalProblem?"border-red-500 focus:border-red-500 focus:ring-red-500":""),placeholder:"e.g., Ankle Sprain, Viral Fever"}),P.medicalProblem&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:P.medicalProblem})]}),(0,r.jsxs)("div",{className:"md:col-span-2",children:[(0,r.jsx)("label",{htmlFor:"diagnosis",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Diagnosis"}),(0,r.jsx)("textarea",{id:"diagnosis",name:"diagnosis",rows:3,value:S.diagnosis,onChange:M,className:"input-field",placeholder:"Detailed diagnosis information"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),(0,r.jsxs)("select",{id:"status",name:"status",value:S.status,onChange:M,className:"input-field",children:[(0,r.jsx)("option",{value:"Active",children:"Active"}),(0,r.jsx)("option",{value:"Completed",children:"Completed"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"attendC",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Attend C"}),(0,r.jsx)("select",{id:"attendC",name:"attendC",value:S.attendC,onChange:M,className:"input-field",children:[...Array(11)].map((e,t)=>(0,r.jsx)("option",{value:t.toString(),children:t},t))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"monitoringCase",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Monitoring Case"}),(0,r.jsxs)("select",{id:"monitoringCase",name:"monitoringCase",value:S.monitoringCase,onChange:M,className:"input-field",children:[(0,r.jsx)("option",{value:"No",children:"No"}),(0,r.jsx)("option",{value:"Yes",children:"Yes"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"contactNo",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Contact No."}),(0,r.jsx)("input",{type:"tel",id:"contactNo",name:"contactNo",value:S.contactNo,onChange:M,className:"input-field",placeholder:"Phone number"})]}),(0,r.jsxs)("div",{className:"md:col-span-2",children:[(0,r.jsx)("label",{htmlFor:"remarks",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Remarks"}),(0,r.jsx)("textarea",{id:"remarks",name:"remarks",rows:3,value:S.remarks,onChange:M,className:"input-field",placeholder:"Any additional remarks or observations"})]})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,r.jsx)(n.default,{href:"/dashboard",className:"btn-secondary",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",disabled:a,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Adding Record...":"Add Medical Record"})]})]})})]}),p&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,r.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[(0,r.jsx)(c.Z,{className:"h-5 w-5"}),"Add New Cadet"]}),(0,r.jsx)("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,r.jsx)(o,{className:"h-5 w-5"})})]}),(0,r.jsxs)("form",{onSubmit:_,className:"space-y-4",children:[R&&(0,r.jsx)("div",{className:"p-3 text-sm text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:R}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"cadetName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Full Name *"}),(0,r.jsx)("input",{type:"text",id:"cadetName",name:"name",required:!0,value:F.name,onChange:Z,className:"input-field",placeholder:"Enter full name"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"cadetBattalion",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Battalion *"}),(0,r.jsx)("input",{type:"text",id:"cadetBattalion",name:"battalion",required:!0,value:F.battalion,onChange:Z,className:"input-field",placeholder:"e.g., 12th Battalion"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"cadetCompany",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Company *"}),(0,r.jsxs)("select",{id:"cadetCompany",name:"company",required:!0,value:F.company,onChange:Z,className:"input-field",children:[(0,r.jsx)("option",{value:"",children:"Select company..."}),(0,r.jsx)("option",{value:"Alpha",children:"Alpha"}),(0,r.jsx)("option",{value:"Beta",children:"Beta"}),(0,r.jsx)("option",{value:"Gamma",children:"Gamma"}),(0,r.jsx)("option",{value:"Delta",children:"Delta"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"academyNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Academy Number"}),(0,r.jsx)("input",{type:"number",id:"academyNumber",name:"academyNumber",value:F.academyNumber,onChange:Z,className:"input-field",placeholder:"e.g., 12345",min:1})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"cadetJoinDate",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Join Date *"}),(0,r.jsx)("input",{type:"date",id:"cadetJoinDate",name:"joinDate",required:!0,value:F.joinDate,onChange:Z,className:"input-field"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"cadetStatus",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),(0,r.jsxs)("select",{id:"cadetStatus",name:"status",value:F.status,onChange:Z,className:"input-field",children:[(0,r.jsx)("option",{value:"Active",children:"Active"}),(0,r.jsx)("option",{value:"Inactive",children:"Inactive"}),(0,r.jsx)("option",{value:"Graduated",children:"Graduated"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"cadetHealthStatus",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Health Status"}),(0,r.jsxs)("select",{id:"cadetHealthStatus",name:"healthStatus",value:F.healthStatus,onChange:Z,className:"input-field",children:[(0,r.jsx)("option",{value:"Fit",children:"Fit"}),(0,r.jsx)("option",{value:"Under Treatment",children:"Under Treatment"}),(0,r.jsx)("option",{value:"Recovered",children:"Recovered"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"height",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Height (cm)"}),(0,r.jsx)("input",{type:"number",id:"height",name:"height",min:0,value:F.height,onChange:Z,className:"input-field",placeholder:"e.g., 175"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"weight",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Weight (kg)"}),(0,r.jsx)("input",{type:"number",id:"weight",name:"weight",min:0,value:F.weight,onChange:Z,className:"input-field",placeholder:"e.g., 68"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"age",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Age"}),(0,r.jsx)("input",{type:"number",id:"age",name:"age",min:0,value:F.age,onChange:Z,className:"input-field",placeholder:"e.g., 21"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"course",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Course"}),(0,r.jsx)("input",{type:"text",id:"course",name:"course",value:F.course,onChange:Z,className:"input-field",placeholder:"e.g., NDA, CDS"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"sex",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Sex"}),(0,r.jsxs)("select",{id:"sex",name:"sex",value:F.sex,onChange:Z,className:"input-field",children:[(0,r.jsx)("option",{value:"",children:"Select..."}),(0,r.jsx)("option",{value:"Male",children:"Male"}),(0,r.jsx)("option",{value:"Female",children:"Female"}),(0,r.jsx)("option",{value:"Other",children:"Other"})]})]})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("button",{type:"button",onClick:()=>b(!1),className:"btn-secondary",disabled:j,children:"Cancel"}),(0,r.jsx)("button",{type:"submit",disabled:j,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:j?(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Adding Cadet..."]}):"Add Cadet"})]})]})]})})})]})}},9893:function(e,t,a){"use strict";a.d(t,{default:function(){return k}});var r=a(7437),s=a(2265),l=a(9376),d=a(8293),n=a(2369),i=a(5929),c=a(7226);function o(){let[e,t]=(0,s.useState)("dark");return(0,s.useEffect)(()=>{let e=localStorage.getItem("theme");if(e)t(e),document.documentElement.classList.toggle("dark","dark"===e),document.documentElement.classList.toggle("light","light"===e);else{let e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";t(e),document.documentElement.classList.toggle("dark","dark"===e),document.documentElement.classList.toggle("light","light"===e)}},[]),(0,r.jsx)("button",{onClick:()=>{let a="dark"===e?"light":"dark";t(a),document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(a),localStorage.setItem("theme",a)},className:"p-2 rounded-full text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",title:"Switch to ".concat("dark"===e?"light":"dark"," mode"),children:"dark"===e?(0,r.jsx)(i.Z,{className:"h-5 w-5"}):(0,r.jsx)(c.Z,{className:"h-5 w-5"})})}let m=e=>{let{className:t=""}=e;return(0,r.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[(0,r.jsx)("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}),(0,r.jsx)("path",{d:"M12 7v6M10 10h4",stroke:"currentColor",strokeWidth:"2"})]})};function x(){let[e,t]=(0,s.useState)("");return(0,s.useEffect)(()=>{let e=localStorage.getItem("user_info");if(e)try{let a=JSON.parse(e);t(a.username||a.name||"User")}catch(e){t("User")}},[]),(0,r.jsx)("header",{className:"border-b border-gray-200 dark:border-gray-700/50 bg-white dark:bg-gray-800/50",children:(0,r.jsx)("div",{className:"px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex h-16 items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("button",{className:"lg:hidden p-2 rounded-md text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:(0,r.jsx)(d.Z,{className:"h-6 w-6"})}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(m,{className:"w-8 h-8 text-primary"}),(0,r.jsx)("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"CURACADET"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(o,{}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Welcome, ",e||"User"]}),(0,r.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center",children:(0,r.jsx)(n.Z,{className:"h-5 w-5 text-primary"})})]})]})]})})})}var h=a(7648),u=a(4938),g=a(5805),p=a(4401),b=a(9397),j=a(8736),f=a(7692);let y=e=>{let{className:t=""}=e;return(0,r.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[(0,r.jsx)("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}),(0,r.jsx)("path",{d:"M12 7v6M10 10h4",stroke:"currentColor",strokeWidth:"2"})]})},N=[{name:"Dashboard",href:"/dashboard",icon:u.Z},{name:"Cadet Records",href:"/cadets",icon:g.Z},{name:"Medical History",href:"/medical-history",icon:p.Z},{name:"Add Record",href:"/medical-records/new",icon:b.Z},{name:"Reports",href:"/reports",icon:j.Z}];function v(){let e=(0,l.usePathname)(),t=(0,l.useRouter)();return(0,r.jsxs)("aside",{className:"w-64 flex-col bg-white dark:bg-gray-800/50 border-r border-gray-200 dark:border-gray-700/50 p-4 hidden lg:flex",children:[(0,r.jsx)("div",{className:"flex flex-col gap-y-2 mb-8",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(y,{className:"w-8 h-8 text-primary"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"CURACADET"}),(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Attendant Portal"})]})]})}),(0,r.jsx)("nav",{className:"flex-1 flex flex-col gap-2",children:N.map(t=>{let a=t.icon,s=e===t.href;return(0,r.jsxs)(h.default,{href:t.href,className:"\n                flex items-center gap-3 rounded-lg px-3 py-2 font-medium\n                ".concat(s?"bg-primary/10 dark:bg-primary/20 text-primary dark:text-white":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800","\n              "),children:[(0,r.jsx)(a,{className:"h-5 w-5"}),(0,r.jsx)("span",{children:t.name})]},t.name)})}),(0,r.jsxs)("button",{onClick:()=>{localStorage.removeItem("jwt_token"),localStorage.removeItem("user_info"),t.push("/")},className:"flex items-center gap-3 rounded-lg px-3 py-2 font-medium text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 mt-auto",children:[(0,r.jsx)(f.Z,{className:"h-5 w-5"}),(0,r.jsx)("span",{children:"Logout"})]})]})}function k(e){let{children:t}=e,a=(0,l.useRouter)();return(0,s.useEffect)(()=>{localStorage.getItem("jwt_token")||a.push("/")},[a]),(0,r.jsxs)("div",{className:"flex min-h-screen",children:[(0,r.jsx)(v,{}),(0,r.jsx)("div",{className:"w-px bg-gray-200 dark:bg-gray-700/50"}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,r.jsx)(x,{}),(0,r.jsx)("main",{className:"flex-1 p-6 lg:p-8 bg-background-light dark:bg-background-dark",children:t})]})]})}}},function(e){e.O(0,[631,971,117,744],function(){return e(e.s=7119)}),_N_E=e.O()}]);